Module 06: Network Security Infrastructure

Common designs for firewall implementation are: 
 - Private and Public: it involves defining a public (untrusted) network and a private (trusted) network. Traffic from the private network is permitted and inspected as it flows to the public network. Traffic from the public network associated with traffic that has its origin in the private network is inspected and allowed. Traffic originating on the public network with no relation to private network requests is dropped. It is the simplest firewall implementation design.

 - Demilitarized zones: it is a design that usually has one interface as the "protected" private network and another interface more "exposed" to the public networks. The traffic between the private network and the DMZ is highly restricted when going to the private network, and the same happens between the private and the public networks, while traffic going from the private network to the DMZ and public networks is permitted. Traffic between the DMZ and the public networks is filtered, but allowed. This architecture is more advanced and secure than the private and public but still lacks segmentation of the network. Some variants of this model are used on companies that have servers/products that need to be exposed to the internet while still maintaining the private network isolated.

 - Zone-Based Policy: the Zone-Based Policy design is characterized by the concept of zones, that provide more flexibility and segmentation to the network. The idea of the design is to group LANs with similar policies on the same zone, allowing traffic between them but restricting any traffic between different zones. 

Differences between IDS and IPS:
The IDS is usually installed on a port mirroring configuration, and because of that it does not impact network performance and does not affect the network functionality in case of failure of the equipment. The con is that the IDS can't drop the packets that have triggered an alert, leaving the network more vulnerable to attacks that spread quickly on the network, like worms.
On the other hand, the IPS is installed inline, which can cause some network issues if it fails or is overloaded with traffic. But at the same time, it can drop packets associated with attack signatures making the response time to attacks on the network much faster.

Module 07: Windows Operating System

 - Hardware abstraction layer: The hardware abstraction layer (HAL) is software that handles all of the communication between the hardware and the kernel.
 - User mode and Kernel mode: Installed applications run on user mode, and the OS runs on the kernel mode. Apps running on kernel mode are capable of executing any instruction on the CPU and have direct access to any memory address. The user mode has no direct access to the hardware and memory. 
 - File system: NTFS is the File system used by Windows. Security descriptors contain file ownership and permissions all the way down to the file level. NTFS also tracks many time stamps to track file activity. Sometimes referred to as MACE, the timestamps Modify, Access, Create, and Entry Modified. 
 - Alternate Data Streams: This is sometimes used by applications that are storing additional information about the file. The ADS is an important factor when discussing malware. This is because it is easy to hide data in an ADS. An attacker could store malicious code within an ADS that can then be called from a different file.
 - Windows boot process: Whether the firmware is BIOS or UEFI, after a valid Windows installation is located, the Bootmgr.exe file is run. Bootmgr.exe switches the system from real mode to protected mode so that all of the system memory can be used. Then the Winload.exe file is loaded. The Winload.exe file creates a record of the hardware configuration in the registry. Winload.exe also uses Kernel Mode Code Signing (KMCS) to make sure that all drivers are digitally signed. This ensures that the drivers are safe to load as the computer starts. After the drivers have been examined, Winload.exe runs Ntoskrnl.exe which starts the Windows kernel and sets up the HAL. Finally, the Session Manager Subsystem (SMSS) reads the registry to create the user environment, start the Winlogon service, and prepare each userâ€™s desktop
 - Windows Startup: There are two important registry items that are used to automatically start applications and services: HKEY_LOCAL_MACHINE - Several aspects of Windows configuration are stored in this key, including information about services that start with each boot. HKEY_CURRENT_USER - Several aspects related to the logged-in user are stored in this key, including information about services that start only when the user logs on to the computer. Those registries are used to store backdoors that start as the system boots. 
 - Processes: A Windows application is made up of processes. The application can have one or many processes dedicated to it. A process is any program that is currently executing. Each process that runs is made up of at least one thread. A thread is a part of the process that can be executed. The processor performs calculations on the thread.
 - Memory: The virtual address space for a process is the set of virtual addresses that the process can use. The virtual address is not the actual physical location in memory, but an entry in a page table that is used to translate the virtual address into the physical address. Each process in a 32-bit Windows computer supports a virtual address space that enables addressing up to 4 gigabytes. Each process in a 64-bit Windows computer supports a virtual address space of 8 terabytes. Each user space process runs in a private address space, separate from other user space processes. When the user space process needs to access kernel resources, it must use a process handle.
 - Registry: Windows stores all of the information about hardware, applications, users, and system settings in a large database known as the registry.

 * Windows security: 
 - Netstat: the netstat command can display all active connections on the computer. This can be used to look for unauthorized connections 
 - Event Viewer: logs the history of application, security, and system events. These log files are a valuable troubleshooting tool because they provide information necessary to identify a problem.
 - Local security policy: In most networks that use Windows computers, Active Directory is configured with Domains on a Windows Server
